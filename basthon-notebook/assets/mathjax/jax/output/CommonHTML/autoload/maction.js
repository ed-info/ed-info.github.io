MathJax.Hub.Register.StartupHook("CommonHTML Jax Ready",(function(){var t,a,e,o=MathJax.ElementJax.mml,i=MathJax.OutputJax.CommonHTML,s=i.config.tooltip=MathJax.Hub.Insert({delayPost:600,delayClear:600,offsetX:10,offsetY:5},i.config.tooltip||{});o.maction.Augment({CHTMLtooltip:i.addElement(document.body,"div",{id:"MathJax_CHTML_Tooltip"}),toCommonHTML:function(t){var a=this.Get("selection");t=this.CHTMLcreateNode(t),this.CHTML=i.BBOX.empty(),this.CHTMLhandleStyle(t),this.CHTMLhandleScale(t),this.CHTMLaddChild(t,a-1,{}),this.CHTML.clean(),this.CHTMLhandleSpace(t),this.CHTMLhandleBBox(t),this.CHTMLhandleColor(t);var e=this.Get("actiontype");return this.CHTMLaction[e]&&this.CHTMLaction.hasOwnProperty(e)&&this.CHTMLaction[e].call(this,t,a),t},CHTMLcoreNode:function(t){return this.CHTMLchildNode(t,0)},CHTMLaction:{toggle:function(t,a){this.selection=a,t.onclick=MathJax.Callback(["CHTMLclick",this,i.jax]),t.style.cursor="pointer"},statusline:function(t,a){t.onmouseover=MathJax.Callback(["CHTMLsetStatus",this]),t.onmouseout=MathJax.Callback(["CHTMLclearStatus",this]),t.onmouseover.autoReset=t.onmouseout.autoReset=!0},tooltip:function(t,a){this.data[1]&&this.data[1].isToken?t.title=t.alt=this.data[1].data.join(""):(t.onmouseover=MathJax.Callback(["CHTMLtooltipOver",this,i.jax]),t.onmouseout=MathJax.Callback(["CHTMLtooltipOut",this,i.jax]),t.onmouseover.autoReset=t.onmouseout.autoReset=!0)}},CHTMLclick:function(t,a){this.selection++,this.selection>this.data.length&&(this.selection=1);var e=!!t.hover;if(t.Update(),e){var o=document.getElementById(t.inputID+"-Span");MathJax.Extension.MathEvents.Hover.Hover(t,o)}return MathJax.Extension.MathEvents.Event.False(a)},CHTMLsetStatus:function(t){this.messageID=MathJax.Message.Set(this.data[1]&&this.data[1].isToken?this.data[1].data.join(""):this.data[1].toString())},CHTMLclearStatus:function(t){this.messageID&&MathJax.Message.Clear(this.messageID,0),delete this.messageID},CHTMLtooltipOver:function(t,o){o||(o=window.event),e&&(clearTimeout(e),e=null),a&&clearTimeout(a);var i=o.pageX,l=o.pageY;null==i&&(i=o.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,l=o.clientY+document.body.scrollTop+document.documentElement.scrollTop);var n=MathJax.Callback(["CHTMLtooltipPost",this,t,i+s.offsetX,l+s.offsetY]);a=setTimeout(n,s.delayPost)},CHTMLtooltipOut:function(t,o){a&&(clearTimeout(a),a=null),e&&clearTimeout(e);var i=MathJax.Callback(["CHTMLtooltipClear",this,80]);e=setTimeout(i,s.delayClear)},CHTMLtooltipPost:function(o,s,l){a=null,e&&(clearTimeout(e),e=null);var n=this.CHTMLtooltip;if(n.style.display="block",n.style.opacity="",this!==t){n.style.left=s+"px",n.style.top=l+"px",n.innerHTML='<span class="mjx-chtml"><span class="mjx-math"></span></span>',i.getMetrics(o);try{this.data[1].toCommonHTML(n.firstChild.firstChild)}catch(t){if(!t.restart)throw t;return n.style.display="none",void MathJax.Callback.After(["CHTMLtooltipPost",this,o,s,l],t.restart)}t=this}},CHTMLtooltipClear:function(t){var a=this.CHTMLtooltip;t<=0?(a.style.display="none",a.style.opacity=a.style.filter="",e=null):(a.style.opacity=t/100,a.style.filter="alpha(opacity="+t+")",e=setTimeout(MathJax.Callback(["CHTMLtooltipClear",this,t-20]),50))}}),MathJax.Hub.Startup.signal.Post("CommonHTML maction Ready"),MathJax.Ajax.loadComplete(i.autoloadDir+"/maction.js")}));