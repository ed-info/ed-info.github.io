MathJax.Hub.Register.StartupHook("CommonHTML Jax Ready",(function(){var t=MathJax.ElementJax.mml,a=MathJax.OutputJax.CommonHTML,i=MathJax.Localization;t.mglyph.Augment({toCommonHTML:function(e,h){var m=this.getValues("src","width","height","valign","alt");if(e=this.CHTMLcreateNode(e),this.CHTMLhandleStyle(e),this.CHTMLhandleScale(e),""===m.src){var g=this.Get("index");this.CHTMLgetVariant(),g&&this.CHTMLvariant.style&&this.CHTMLhandleText(e,String.fromCharCode(g),this.CHTMLvariant)}else{var s=this.CHTML;if(s.img||(s.img=t.mglyph.GLYPH[m.src]),s.img||(s.img=t.mglyph.GLYPH[m.src]={img:new Image,status:"pending"},s.img.img.onload=MathJax.Callback(["CHTMLimgLoaded",this]),s.img.img.onerror=MathJax.Callback(["CHTMLimgError",this]),s.img.img.src=m.src,MathJax.Hub.RestartAfter(s.img.img.onload)),"OK"!==s.img.status){var l=t.Error(i._(["MathML","BadMglyph"],"Bad mglyph: %1",m.src));l.data[0].data[0].mathsize="75%",this.Append(l),l.toCommonHTML(e),this.data.pop(),s.combine(l.CHTML,0,0,1)}else{var r=a.addElement(e,"img",{isMathJax:!0,src:m.src,alt:m.alt,title:m.alt}),o=m.width,n=m.height,M=s.img.img.width/a.em,d=s.img.img.height/a.em,H=M,L=d;""!==o&&(M=this.CHTMLlength2em(o,H),d=H?M/H*L:0),""!==n&&(d=this.CHTMLlength2em(n,L),""===o&&(M=L?d/L*H:0)),r.style.width=a.Em(M),s.w=s.r=M,r.style.height=a.Em(d),s.h=s.t=d,m.valign&&(s.d=s.b=-this.CHTMLlength2em(m.valign,L),r.style.verticalAlign=a.Em(-s.d),s.h-=s.d,s.t=s.h)}}return this.CHTMLhandleSpace(e),this.CHTMLhandleBBox(e),this.CHTMLhandleColor(e),e},CHTMLimgLoaded:function(t,a){"string"==typeof t&&(a=t),this.CHTML.img.status=a||"OK"},CHTMLimgError:function(){this.CHTML.img.img.onload("error")}},{GLYPH:{}}),MathJax.Hub.Startup.signal.Post("CommonHTML mglyph Ready"),MathJax.Ajax.loadComplete(a.autoloadDir+"/mglyph.js")}));