MathJax.Hub.Register.StartupHook("CommonHTML Jax Ready",(function(){var t=MathJax.ElementJax.mml,e=MathJax.Hub.config,a=MathJax.OutputJax.CommonHTML,i=MathJax.Hub.SplitList,l=-1;t.mtable.Augment({toCommonHTML:function(t){var e={rows:[],labels:[],labeled:!1};t=this.CHTMLdefaultNode(t,{noBBox:!0,childOptions:e});for(var i=a.Element("mjx-table");t.firstChild;)i.appendChild(t.firstChild);t.appendChild(i);var l=this.getValues("columnalign","rowalign","columnspacing","rowspacing","columnwidth","equalcolumns","equalrows","columnlines","rowlines","frame","framespacing","align","width","side","minlabelspacing","useHeight"),n=a.TEX.min_rule_thickness/a.em;e.t=a.Px(n*this.CHTML.scale,1),this.CHTMLgetBoxSizes(l,e),this.CHTMLgetAttributes(l,e),this.CHTMLadjustCells(l,e),l.frame&&(i.style.border=e.t+" "+l.frame),this.CHTMLalignV(l,e,t),this.CHTMLcolumnWidths(l,e,t),this.CHTMLstretchCells(l,e),e.labeled&&this.CHTMLaddLabels(l,e,t,i);var h=this.CHTML;return h.w=h.r=e.R,h.h=h.t=e.T-e.B,h.d=h.b=e.B,l.frame||h.pwidth||(t.style.padding="0 "+a.Em(1/6),h.L=h.R=1/6),this.CHTMLhandleSpace(t),this.CHTMLhandleBBox(t),this.CHTMLhandleColor(t),t},CHTMLgetBoxSizes:function(t,e){var i,n,h=a.FONTDATA.lineH*t.useHeight,s=a.FONTDATA.lineD*t.useHeight,r=[],m=[],o=[],d=-1;for(i=0,n=this.data.length;i<n;i++){var g=this.data[i],C="mtr"===g.type?0:l;r[i]=h,m[i]=s;for(var f=C,H=g.data.length+C;f<H;f++){null==o[f]&&(o[f]=-1e6,f>d&&(d=f));var L=g.data[f-C].CHTML;L.h>r[i]&&(r[i]=L.h),L.d>m[i]&&(m[i]=L.d),L.w>o[f]&&(o[f]=L.w)}}if(t.equalrows){e.HD=!0;var T=Math.max.apply(Math,r),c=Math.max.apply(Math,m);for(i=0,n=r.length;i<n;i++)r[i]=T,m[i]=c}e.H=r,e.D=m,e.W=o,e.J=d},CHTMLgetAttributes:function(e,a){var n,h,s=i(e.columnspacing),r=i(e.rowspacing),m=i(e.columnalign),o=i(e.rowalign),d=i(e.columnlines),g=i(e.rowlines),C=i(e.columnwidth),f=[],H=a.J,L=a.rows.length-1;for(n=0,h=s.length;n<h;n++)s[n]=this.CHTMLlength2em(s[n]);for(n=0,h=r.length;n<h;n++)r[n]=this.CHTMLlength2em(r[n]);for(;s.length<H;)s.push(s[s.length-1]);for(;m.length<=H;)m.push(m[m.length-1]);for(;d.length<H;)d.push(d[d.length-1]);for(;C.length<=H;)C.push(C[C.length-1]);for(;r.length<L;)r.push(r[r.length-1]);for(;o.length<=L;)o.push(o[o.length-1]);for(;g.length<L;)g.push(g[g.length-1]);for(m[l]="l"===e.side.substr(0,1)?"left":"right",n=0;n<=L;n++){var T=this.data[n];if(f[n]=[],T.rowalign&&(o[n]=T.rowalign),T.columnalign)for(f[n]=i(T.columnalign);f[n].length<=H;)f[n].push(f[n][f[n].length-1])}var c=i(e.framespacing);2!=c.length&&(c=i(this.defaults.framespacing)),c[0]=Math.max(0,this.CHTMLlength2em(c[0])),c[1]=Math.max(0,this.CHTMLlength2em(c[1])),""===e.columnlines.replace(/none/g,"").replace(/ /g,"")&&""===e.rowlines.replace(/none/g,"").replace(/ /g,"")||(e.fspace=!0),e.frame===t.LINES.NONE?delete e.frame:e.fspace=!0,e.frame&&(c[0]=Math.max(0,c[0]),c[1]=Math.max(0,c[1])),e.fspace?(s[H]=c[0],r[L]=c[1]):s[H]=r[L]=0,d[H]=g[L]=t.LINES.NONE,a.CSPACE=s,a.RSPACE=r,a.CALIGN=m,a.RALIGN=o,a.CLINES=d,a.RLINES=g,a.CWIDTH=C,a.RCALIGN=f,a.FSPACE=c},CHTMLadjustCells:function(e,i){var n=i.rows,h=i.CSPACE,s=i.CLINES,r=i.RSPACE,m=i.RLINES,o=i.CALIGN,d=i.RALIGN,g=i.RCALIGN;h[i.J]*=2,r[n.length-1]*=2;var C,f,H,L,T,c,u="0",M=0;e.fspace&&(M=i.FSPACE[1],u=a.Em(i.FSPACE[1])),i.RHD=[],i.RH=[];for(var p=0,E=n.length;p<E;p++){var N=n[p],v=this.data[p];if(C=r[p]/2,L=null,H="0",m[p]!==t.LINES.NONE&&""!==m[p]&&(L=i.t+" "+m[p]),L||s[w]!==t.LINES.NONE&&""!==s[w])for(;N.length<=i.J;)N.push(a.addElement(N.node,"mjx-mtd",null,[["span"]]));i.RH[p]=M+i.H[p],M=Math.max(0,C),i.RHD[p]=i.RH[p]+M+i.D[p],C=a.Em(M),e.fspace&&(H=a.Em(i.FSPACE[0]));for(var w=0,A=N.length;w<A;w++){var x="mtr"===v.type?0:l,I=v.data[w-x]||{CHTML:a.BBOX.zero()},y=N[w].style;T=I.CHTML,f=h[w]/2,s[w]!==t.LINES.NONE&&(y.borderRight=i.t+" "+s[w],f-=1/a.em/2),f=a.Em(Math.max(0,f)),y.padding=u+" "+f+" 0px "+H,L&&(y.borderBottom=L),H=f,c=I.rowalign||(this.data[p]||{}).rowalign||d[p];var b=Math.max(1,T.h),R=Math.max(.2,T.d),S=i.H[p]+i.D[p]-(b+R),D=N[w].firstChild.style;c===t.ALIGN.TOP?(S&&(D.marginBottom=a.Em(S)),y.verticalAlign="top"):c===t.ALIGN.BOTTOM?(y.verticalAlign="bottom",S&&(D.marginTop=a.Em(S))):c===t.ALIGN.CENTER?(S&&(D.marginTop=D.marginBottom=a.Em(S/2)),y.verticalAlign="middle"):b!==i.H[p]&&(D.marginTop=a.Em(i.H[p]-b)),(c=I.columnalign||g[p][w]||o[w])!==t.ALIGN.CENTER&&(y.textAlign=c)}N.node.style.height=a.Em(i.RHD[p]),u=C}h[i.J]/=2,r[n.length-1]/=2},CHTMLalignV:function(t,e,i){var l,n=e.rows.length,h=e.H,s=e.D,r=e.RSPACE;"string"!=typeof t.align&&(t.align=String(t.align)),t.align.match(/(top|bottom|center|baseline|axis)( +(-?\d+))?/)?(l=parseInt(RegExp.$3||"0"),t.align=RegExp.$1,l<0&&(l+=e.rows.length+1),(l>n||l<=0)&&(l=null)):t.align=this.defaults.align;var m=0,o=0,d=a.TEX.axis_height;t.fspace&&(m+=e.FSPACE[1]),t.frame&&(m+=2/a.em,o+=1/a.em);for(var g=0;g<n;g++){var C=h[g],f=s[g];m+=C+f+r[g],l&&(g===l-1&&(o+={top:C+f,bottom:0,center:(C+f)/2,baseline:f,axis:d+f}[t.align]+r[g]),g>=l&&(o+=C+f+r[g]))}l||(o={top:m,bottom:0,center:m/2,baseline:m/2,axis:m/2-d}[t.align]),o&&(i.style.verticalAlign=a.Em(-o)),e.T=m,e.B=o},CHTMLcolumnWidths:function(t,e,i){var n,h,s,r,m=e.CWIDTH,o=e.CSPACE,d=e.J,g=0,C=!1,f=t.width.match(/%$/);if("auto"===t.width||f||(g=Math.max(0,this.CHTMLlength2em(t.width,e.R)),C=!0),t.equalcolumns){if(f){var H=a.Percent(1/(d+1));for(n=0;n<=d;n++)m[n]=H}else{if(r=Math.max.apply(Math,e.W),"auto"!==t.width){var L=t.fspace?e.FSPACE[0]+(t.frame?2/a.em:0):0;for(n=0;n<=d;n++)L+=o[n];r=Math.max((g-L)/(d+1),r)}for(r=a.Em(r),n=0;n<=d;n++)m[n]=r}C=!0}var T=0;t.fspace&&(T=e.FSPACE[0]);var c=[],u=[],M=[],p=[],E=e.rows[0];for(n=0;n<=d;n++)p[n]=e.W[n],"auto"===m[n]?c.push(n):"fit"===m[n]?u.push(n):m[n].match(/%$/)?M.push(n):p[n]=this.CHTMLlength2em(m[n],p[n]),T+=p[n]+o[n],E[n]&&(E[n].style.width=a.Em(p[n]));t.frame&&(T+=2/a.em);var N=u.length>0;if(C||f&&N)if(f)for(n=0;n<=d;n++)cell=E[n].style,"auto"!==m[n]||N?"fit"===m[n]?cell.width="":m[n].match(/%$/)?cell.width=m[n]:cell.minWidth=cell.maxWidth=cell.width:cell.width="";else{if(g>T){var v=0;for(h=0,s=M.length;h<s;h++)n=M[h],v+=(r=Math.max(p[n],this.CHTMLlength2em(m[n],g)))-p[n],p[n]=r,E[n].style.width=a.Em(r);T+=v}if(N||(u=c),g>T&&u.length){var w=(g-T)/u.length;for(h=0,s=u.length;h<s;h++)p[n=u[h]]+=w,E[n].style.width=a.Em(p[n]);T=g}}p[l]=e.W[l],e.W=p,e.R=T,f&&(i.style.width=this.CHTML.pwidth="100%",this.CHTML.mwidth=a.Em(T),i.firstChild.style.width=t.width,i.firstChild.style.margin="auto")},CHTMLstretchCells:function(t,e){for(var a=e.rows,i=e.H,l=e.D,n=e.W,h=e.J,s=a.length-1,r=0;r<=s;r++)for(var m=a[r],o=this.data[r],d=i[r],g=l[r],C=0;C<=h;C++){var f=m[C],H=o.data[C];H&&("V"===H.CHTML.stretch?H.CHTMLstretchV(d,g):"H"===H.CHTML.stretch&&H.CHTMLstretchH(f,n[C]))}},CHTMLaddLabels:function(i,n,h,s){var r=this.getValues("indentalignfirst","indentshiftfirst","indentalign","indentshift");r.indentalignfirst!==t.INDENTALIGN.INDENTALIGN&&(r.indentalign=r.indentalignfirst),r.indentalign===t.INDENTALIGN.AUTO&&(r.indentalign=e.displayAlign),r.indentshiftfirst!==t.INDENTSHIFT.INDENTSHIFT&&(r.indentshift=r.indentshiftfirst),"auto"===r.indentshift&&(r.indentshift="0");var m=this.CHTMLlength2em(r.indentshift,a.cwidth),o=this.CHTMLlength2em(i.minlabelspacing,.8)+n.W[l],d=0,g=n.R,C=this.CHTMLlength2em(e.displayIndent,a.cwidth),f=n.CALIGN[l]===t.INDENTALIGN.RIGHT?-1:1;r.indentalign===t.INDENTALIGN.CENTER?(g+=2*(o-f*(m+C)),m+=C):n.CALIGN[l]===r.indentalign?(C<0&&(d=f*C,C=0),o>f*(m+=f*C)&&(m=f*o),m+=d,g+=m*=f):(g+=o-f*m+C,m-=f*C,m*=-f);var H=a.addElement(h,"mjx-box",{style:{width:"100%","text-align":r.indentalign}});H.appendChild(s);var L=a.Element("mjx-itable");if(s.style.display="inline-table",s.style.width||(s.style.width="auto"),L.style.verticalAlign="top",s.style.verticalAlign=a.Em(n.T-n.B-n.H[0]),h.style.verticalAlign="",m)if(r.indentalign===t.INDENTALIGN.CENTER)s.style.marginLeft=a.Em(m),s.style.marginRight=a.Em(-m);else{var T="margin"+(r.indentalign===t.INDENTALIGN.RIGHT?"Right":"Left");s.style[T]=a.Em(m)}"left"===n.CALIGN[l]?(h.insertBefore(L,H),L.style.marginRight=a.Em(-n.W[l]-d),d&&(L.style.marginLeft=a.Em(d))):(h.appendChild(L),L.style.marginLeft=a.Em(-n.W[l]+d));var c=n.labels,u=0;i.fspace&&(u=n.FSPACE[0]+(i.frame?1/a.em:0));for(var M=0,p=c.length;M<p;M++)if(c[M]&&this.data[M].data[0]){L.appendChild(c[M]);var E=this.data[M].data[0].CHTML;(u=n.RH[M]-Math.max(1,E.h))&&(c[M].firstChild.firstChild.style.marginTop=a.Em(u)),c[M].style.height=a.Em(n.RHD[M])}else a.addElement(L,"mjx-label",{style:{height:a.Em(n.RHD[M])}});h.style.width=this.CHTML.pwidth="100%",h.style.minWidth=this.CHTML.mwidth=a.Em(Math.max(0,g))}}),t.mtr.Augment({toCommonHTML:function(t,e){t=this.CHTMLcreateNode(t),this.CHTMLhandleStyle(t),this.CHTMLhandleScale(t),e||(e={rows:[],labels:[]});var a=[];e.rows.push(a),a.node=t,e.labels.push(null);for(var i=0,l=this.data.length;i<l;i++)a.push(this.CHTMLaddChild(t,i,e));return this.CHTMLhandleColor(t),t}}),t.mlabeledtr.Augment({toCommonHTML:function(t,e){t=this.CHTMLcreateNode(t),this.CHTMLhandleStyle(t),this.CHTMLhandleScale(t),e||(e={rows:[],labels:[]});var i=[];e.rows.push(i),i.node=t;var l=a.Element("mjx-label");e.labels.push(l),this.CHTMLaddChild(l,0,e),this.data[0]&&(e.labeled=!0);for(var n=1,h=this.data.length;n<h;n++)i.push(this.CHTMLaddChild(t,n,e));return this.CHTMLhandleColor(t),t}}),t.mtd.Augment({toCommonHTML:function(t,e){if(t=this.CHTMLdefaultNode(t,e),a.addElement(t.firstChild,"mjx-strut"),this.isEmbellished()){var i=this.CoreMO(),l=this.CHTML;if(i.CHTMLcanStretch("Vertical")?l.stretch="V":i.CHTMLcanStretch("Horizontal")&&(l.stretch="H"),l.stretch){var n=i.Get("minsize",!0);if(n)if("V"===l.stretch){var h=l.h+l.d;if(h){var s=this.CHTMLlength2em(n,h)/h;s>1&&(l.h*=s,l.d*=s)}}else l.w=Math.max(l.w,this.CHTMLlength2em(n,l.w))}}return t}}),MathJax.Hub.Startup.signal.Post("CommonHTML mtable Ready"),MathJax.Ajax.loadComplete(a.autoloadDir+"/mtable.js")}));