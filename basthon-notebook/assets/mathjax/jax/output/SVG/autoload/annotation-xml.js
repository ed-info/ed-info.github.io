MathJax.Hub.Register.StartupHook("SVG Jax Ready",(function(){var t=MathJax.ElementJax.mml,a=MathJax.OutputJax.SVG,e=a.BBOX;e.FOREIGN=e.Subclass({type:"foreignObject",removeable:!1}),t["annotation-xml"].Augment({toSVG:function(){var t=this.SVG();this.SVGhandleSpace(t);for(var a=this.Get("encoding"),e=0,i=this.data.length;e<i;e++)t.Add(this.data[e].toSVG(a),t.w,0);return t.Clean(),this.SVGhandleColor(t),this.SVGsaveData(t),t}}),t.xml.Augment({toSVG:function(t){var i=a.textSVG.parentNode;a.mathDiv.style.width="auto",i.insertBefore(this.div,a.textSVG);var h=this.div.offsetWidth,n=this.div.offsetHeight,o=MathJax.HTML.addElement(this.div,"span",{style:{display:"inline-block",overflow:"hidden",height:n+"px",width:"1px",marginRight:"-1px"}}),d=this.div.offsetHeight-n;n-=d,this.div.removeChild(o),i.removeChild(this.div),a.mathDiv.style.width="";for(var s=1e3/a.em,l=e.FOREIGN({y:-n+"px",width:h+"px",height:n+d+"px",transform:"scale("+s+") matrix(1 0 0 -1 0 0)"}),r=0,x=this.data.length;r<x;r++)l.element.appendChild(this.data[r].cloneNode(!0));return l.w=h*s,l.h=n*s,l.d=d*s,l.r=l.w,l.l=0,l.Clean(),this.SVGsaveData(l),l}}),MathJax.Hub.Startup.signal.Post("SVG annotation-xml Ready"),MathJax.Ajax.loadComplete(a.autoloadDir+"/annotation-xml.js")}));