"use strict";(self.webpackChunk_basthon_basthon_console=self.webpackChunk_basthon_basthon_console||[]).push([[442],{87867:(t,e,n)=>{n.d(e,{H:()=>i});var o=n(72467);class r extends Error{constructor(t){super(`Function ${t} not implemented!`),this.name="NotImplementedError"}}class s extends Event{constructor(t,e){super(t),this.detail=e}}class i{constructor(t){this._ready=!1,this._loaded=new o.I,this._execution_count=0,this._pendingInput=!1,this._rootPath=t.rootPath}version(){return"0.60.2"}language(){throw new r("language")}languageName(){throw new r("languageName")}moduleExts(){throw new r("moduleExts")}async launch(){throw new r("launch")}get execution_count(){return this._execution_count}evalAsync(t,e,n,o=null){throw new r("evalAsync")}restart(){throw new r("restart")}async putFile(t,e){throw new r("putFile")}async putModule(t,e){throw new r("putModule")}userModules(){return[]}getFile(t){throw new r("getFile")}getUserModuleFile(t){throw new r("getUserModuleFile")}more(t){throw new r("more")}complete(t){return[]}banner(){return`Welcome to the ${this.languageName()} REPL!`}ps1(){return">>> "}ps2(){return"... "}async init(){try{await this.launch()}catch(t){return void this._loaded.reject(t)}this.addEventListener("eval.request",this.evalFromEvent.bind(this)),this._ready=!0,this._loaded.resolve()}get ready(){return this._ready}async loaded(){await this._loaded.promise}basthonRoot(t=!1){let e=this._rootPath+"/"+this.version()+"/"+this.language();if(t&&!e.startsWith("http")){const t=window.location.origin+window.location.pathname;e=t.substring(0,t.lastIndexOf("/"))+"/"+e}return e}download(t,e){if(!("string"==typeof t||t instanceof String)){const e=new Blob([t],{type:"application/octet-stream"});t=window.URL.createObjectURL(e)}const n=document.createElement("a");n.download=e,n.href=t,n.target="_blank",n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}static loadScript(t){return new Promise((function(e,n){let o=document.createElement("script");o.onload=e,o.onerror=n,o.src=t,document.head.appendChild(o)}))}dispatchEvent(t,e){document.dispatchEvent(new s(`basthon.${t}`,e))}addEventListener(t,e){document.addEventListener(`basthon.${t}`,(function(t){e(t.detail)}))}async inputAsync(t,e=!1,n){(n=this.clone(n)).content={prompt:t,password:e};const o=new Promise((function(t,e){n.resolve=t,n.reject=e}));this._pendingInput=!0,this.dispatchEvent("eval.input",n);const r=await o;return this._pendingInput=!1,r}clone(t){return JSON.parse(JSON.stringify(t))}async putRessource(t,e){var n;const o=null!==(n=t.split(".").pop())&&void 0!==n?n:"";return this.moduleExts().includes(o)?await this.putModule(t,e):await this.putFile(t,e)}pendingInput(){return this._pendingInput}async evalFromEvent(t){const e=e=>n=>{let o=this.clone(t);o.stream=e,o.content=n,this.dispatchEvent("eval.output",o)},n=e("stdout"),o=e("stderr");let r;try{r=await this.evalAsync(t.code,n,o,t)}catch(e){o(e.toString());const n=this.clone(t);return n.error=e,n.execution_count=this.execution_count,void this.dispatchEvent("eval.error",n)}if(null==r)return;const s=r[0],i=r[1];let a=this.clone(t);a.execution_count=i,null!=s&&(a.result=s),this.dispatchEvent("eval.finished",a)}}},19442:(t,e,n)=>{n.r(e),n.d(e,{KernelJavaScript:()=>r});var o=n(87867);class r extends o.H{constructor(t){super(t),this._context={Basthon:void 0,Jupyter:void 0,window:void 0},this._execution_count=0}language(){return"javascript"}languageName(){return"Javascript"}moduleExts(){return["js"]}async launch(){}eval(t){try{return window.eval(`with(Basthon._context) { ${t} }`)}catch(e){if(e instanceof SyntaxError)return new Function(`with(this) { ${t} }`).call(this._context);throw e}}async evalAsync(t,e,n,o=null){o.interactive=!0;const r=console.log,s=console.error;let i;console.log=e,console.error=n,this._execution_count++;try{i=this.eval(t)}catch(t){console.error(`Uncaught ${t.name||""}: ${null==t?void 0:t.message}`)}return console.log=r,console.error=s,void 0!==i&&(i={"text/plain":JSON.stringify(i)}),[i,this._execution_count]}ps1(){return" js> "}ps2(){return"...> "}restart(){this._execution_count=0}more(t){return!1}complete(t){return[]}async putFile(t,e){console.error(`Fichier ${t} not added since putFile has no mean in the JS context.`)}async putModule(t,e){if(e=new Uint8Array(e),"js"!==t.split(".").pop())throw{message:"Only '.js' files supported."};{const t=new TextDecoder("utf-8").decode(e);this.eval(t)}}}}}]);
//# sourceMappingURL=442.a410f347fdcc21c52828.js.map